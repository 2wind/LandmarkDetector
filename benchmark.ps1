
$input_folder = "AutoAlign_test/"
$output_folder = "Benchmark/"
$valid_prefix = '40374___________000_lat', 'B4867___________000_lat', 'B7524___________000_lat', 'B13616___________000_lat', '25160___________000_lat', 'B25611___________000_lat', 'B4151___________000_lat', '19951816___________000_lat', '48301___________000_lat', 'B16939___________000_lat', 'B17545___________000_lat', 'B5080___________000_lat', '40275___________000_lat', '0101___________000_lat', 'B10243___________000_lat', 'B15809___________000_lat', '17285___________000_lat', '12488___________000_lat', 'B25776___________000_lat', '14644377___________000_lat', 'B22163___________000_lat', 'B15167___________000_lat', '22248198___________000_lat', 'B12007___________000_lat', 'B15955___________000_lat', '01042185___________3618_lat', 'B8753___________000_lat', '48329___________000_lat', 'B17915___________000_lat', 'B23418___________000_lat', 'B19358___________000_lat', 'B19336___________000_lat', 'B13247___________000_lat', 'B7887___________000_lat', 'B22050___________000_lat', '23987___________000_lat', 'B19857___________000_lat', '45325___________000_lat', 'B10606___________000_lat', 'B19011___________000_lat', 'B4667___________000_lat', 'B9871___________000_lat', 'B6863___________000_lat', 'B11375___________000_lat', 'B12007___________001_lat', 'B14138___________000_lat', 'B23013___________000_lat', '28800___________000_lat', '43476___________000_lat', '21706747___________000_lat'

foreach($prefix in $valid_prefix){
    $fi = $input_folder + $prefix + "_film.jpg"
    $ft = $input_folder + $prefix + "_film.txt"
    $pi = $input_folder + $prefix + "_photo.jpg"
    $pt = $input_folder + $prefix + "_photo.txt"
    $op_txt = $output_folder + $prefix + "_output.txt"
    $op_img = $output_folder + $prefix + "output.jpg"
    Measure-Command {parse -v -m resnet_best_model.pth -fi $fi -ft $ft -pi $pi -pt $pt -o $op_txt --output_image $op_img }
}